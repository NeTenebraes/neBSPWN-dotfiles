conky.config = {
--==============================================================================
--  neTENEBRAE // RED OPS CONKY (FINAL ALIGNED VERSION)
--  Strict 2-Column Grid Layout
--==============================================================================

  -- Core Settings
  update_interval = 1.5,
  cpu_avg_samples = 2,
  net_avg_samples = 2,
  double_buffer = true,
  no_buffers = true,
  text_buffer_size = 32768,

  -- Window Settings
  own_window = true,
  own_window_class = 'Conky',
  own_window_type = 'desktop',
  own_window_transparent = false,
  own_window_colour = '#050505',
  own_window_argb_visual = true,
  own_window_argb_value = 210,
  own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
  border_inner_margin = 20,
  border_outer_margin = 0,

  -- Layout & Placement
  alignment = 'top_left',
  gap_x = 30,
  gap_y = 48,
  minimum_width = 750,
  maximum_width = 725,

  -- Graphics
  draw_shades = true,
  default_shade_color = '#000000',
  draw_outline = false,
  draw_borders = false,
  draw_graph_borders = false,
  show_graph_scale = false,
  show_graph_range = false,

  -- Text & Fonts
  use_xft = true,
  font = 'JetBrainsMono Nerd Font:size=12',
  uppercase = true,
  override_utf8_locale = true,
  short_units = true,
  use_spacer = 'none',

  -- Colors
  default_color = '#FFFFFF',
  color1 = '#FFFFFF',
  color2 = '#B0B0B0',
  color3 = '#FF3333',

  -- LUA LOADER
  lua_load = '/home/netenebrae/.config/conky/anim.lua',
};

conky.text = [[
${alignc}${lua_parse get_anim}
${voffset -10}${alignc}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=28}${time %A}${font}${color}
${voffset -5}${alignc}${color2}${font JetBrainsMono Nerd Font:size=12}${time %d %B %Y}${font}${color}
${voffset 5}${color1}${hr 2}${color}

${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}OPSEC${font}${color}
${color2}USER   :: ${color}${execi 600 whoami} ${goto 400}${color2}HOST :: ${color}${nodename}
${color2}KERNEL :: ${color}${exec uname -r | cut -d'-' -f1} ${color2}(${exec uname -r | awk -F'-' '{print $2}'})${color}
${color2}UPTIME :: ${color}${uptime_short}
${color2}SHELL  :: ${color}${execi 600 echo $SHELL | awk -F/ '{print $NF}'} ${goto 400}${color2}WM   :: ${color}BSPWM
${color2}FIREWALL:: ${color}${execi 60 sudo ufw status | head -n1 | awk '{print $2}' | tr '[:lower:]' '[:upper:]'} ${goto 400}${color2}PKGS :: ${color}${execi 1800 (checkupdates 2>/dev/null | wc -l) || echo 0} PENDING

${voffset 6}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=11}RESOURCES${font}${color}
${color2}RAM :: ${color}${memperc}% ${goto 400}${color2}CPU :: ${color}${cpu cpu0}%
${color1}${memgraph 5,310 333333 FFFFFF} ${goto 400}${cpugraph cpu0 5,310 333333 FFFFFF}${color}

${voffset -20}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}RECON & NETWORK${font}${color}
${color2}IFACE       :: ${color}${execi 60 ip route get 1.1.1.1 | awk '{print $5; exit}' | tr '[:lower:]' '[:upper:]'} ${goto 400}${color2}LOCAL IP :: ${color}${execi 60 ip route get 1.1.1.1 | awk '{print $7; exit}'}
${color2}PORTS (L/E) :: ${color}${execi 15 ss -lntuH 2>/dev/null | wc -l} / ${execi 10 ss -tanH state established 2>/dev/null | wc -l} ${goto 400}${color2}DNS SRV  :: ${color}${execi 60 awk 'NF && $1=="nameserver"{print $2; exit}' /etc/resolv.conf}
${if_existing /proc/net/route enp0s29u1u2}
${color2}SPEED (USB) :: ${color}▼ ${downspeed enp0s29u1u2}  ▲ ${upspeed enp0s29u1u2}
${endif}${if_existing /proc/net/route wlan0}
${color2}SPEED (WLAN):: ${color}▼ ${downspeed wlan0}  ▲ ${upspeed wlan0}
${endif}${if_existing /proc/net/route enp5s0}
${color2}SPEED (ETH) :: ${color}▼ ${downspeed enp5s0}  ▲ ${upspeed enp5s0}
${endif}


${voffset -40}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}PROCESSES${font}${color}
${lua_parse draw_proc_header}
${lua_parse draw_proc 1}
${lua_parse draw_proc 2}
${lua_parse draw_proc 3}
${lua_parse draw_proc 4}


${voffset 6}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}STORAGE${font}${color}
${color2}ROOT :: ${color}${fs_used /}/${fs_size /} ${goto 400}${color2}HOME :: ${color}${fs_used /home}/${fs_size /home}
${color1}${fs_bar 6,350 /} ${goto 400}${fs_bar 6,350 /home}${color}
]];
