conky.config = {
--==============================================================================
--  neTENEBRAE // RED OPS CONKY (COMPACT VERSION)
--  Strict 2-Column Grid Layout - Narrow
--==============================================================================

  -- Core Settings
  update_interval = 1.5,
  cpu_avg_samples = 2,
  net_avg_samples = 2,
  double_buffer = true,
  no_buffers = true,
  text_buffer_size = 32768,

  -- Window Settings
  own_window = true,
  own_window_class = 'Conky',
  own_window_type = 'desktop',
  own_window_transparent = false,
  own_window_colour = '#050505',
  own_window_argb_visual = true,
  own_window_argb_value = 210,
  own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
  border_inner_margin = 20,
  border_outer_margin = 0,

  -- Layout & Placement
  alignment = 'middle_left',   -- Fija el ancla verticalmente al centro, horizontalmente a la izquierda
  gap_x = 50,                  -- Margen desde el borde izquierdo (ajÃºstalo a tu gusto)
  gap_y = 0,                   -- 0 = Centro vertical exacto.
  

  -- Graphics
  draw_shades = true,
  default_shade_color = '#000000',
  draw_outline = false,
  draw_borders = false,
  draw_graph_borders = false,
  show_graph_scale = false,
  show_graph_range = false,

  -- Text & Fonts
  use_xft = true,
  font = 'JetBrainsMono Nerd Font:size=10', -- Reducido a 10 para encajar mejor
  uppercase = true,
  override_utf8_locale = true,
  short_units = true,
  use_spacer = 'none',

  -- Colors
  default_color = '#FFFFFF',
  color1 = '#FFFFFF',
  color2 = '#B0B0B0',
  color3 = '#FF3333',

  -- LUA LOADER
  lua_load = '/home/netenebrae/.config/conky/anim.lua',
};

conky.text = [[
${lua_parse get_anim}
${voffset -10}${alignc}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=24}${time %A}${font}${color}
${voffset -5}${alignc}${color2}${font JetBrainsMono Nerd Font:size=10}${time %d %B %Y}${font}${color}
${voffset 5}${color1}${hr 2}${color}

${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}OPSEC${font}${color}
${color2}USER   :: ${color}${execi 600 whoami} ${lua_parse col}${color2}HOST   :: ${color}${nodename}
${color2}KERNEL :: ${color}${exec uname -r | sed 's/[0-9.]*//;s/-//;s/-.*//' | tr '[:lower:]' '[:upper:]'} ${lua_parse col}${color2}WM     :: ${color}BSPWM
${color2}UPTIME :: ${color}${uptime_short} ${lua_parse col}${color2}PKGS   :: ${color}${execi 1800 (checkupdates 2>/dev/null | wc -l) || echo 0}
${color2}SHELL  :: ${color}${execi 600 echo $SHELL | awk -F/ '{print $NF}'}

${voffset 6}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}RESOURCES${font}${color}
${color2}RAM    :: ${color}${memperc}% ${lua_parse col}${color2}CPU    :: ${color}${cpu cpu0}%
${lua_parse draw_bar ${memperc} 18} ${lua_parse col}${lua_parse draw_bar ${cpu cpu0} 18}

${voffset 6}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}NETWORK${font}${color}
${color2}IFACE  :: ${color}${execi 60 ip route get 1.1.1.1 | awk '{print $5; exit}' | tr '[:lower:]' '[:upper:]'}
${color2}LOCAL  :: ${color}${execi 60 ip route get 1.1.1.1 | awk '{print $7; exit}'}
${color2}PORTS  :: ${color}${execi 15 ss -lntuH 2>/dev/null | wc -l} (Open) / ${execi 10 ss -tanH state established 2>/dev/null | wc -l} (Est)
${color2}DNS    :: ${color}${execi 60 awk 'NF && $1=="nameserver"{print $2; exit}' /etc/resolv.conf}
${lua_parse draw_net_speed}

${voffset 6}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}PROCESSES${font}${color}
${lua_parse draw_proc_header}
${lua_parse draw_proc 1}
${lua_parse draw_proc 2}
${lua_parse draw_proc 3}
${lua_parse draw_proc 4}

${voffset 6}${color1}${font JetBrainsMono Nerd Font:style=Bold:size=10}STORAGE${font}${color}
${color2}ROOT   :: ${color}${fs_used /}/${fs_size /} ${lua_parse col}${color2}HOME   :: ${color}${fs_used /home}
${color1}${fs_bar 6,200 /} ${lua_parse col}${fs_bar 6,200 /home}${color}
]];
